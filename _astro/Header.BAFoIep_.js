import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.BVOCwoKb.js";import{l as w}from"./favicon.B6KioVE-.js";import{c as p}from"./client.DY8IqZiE.js";const m=()=>{const[a,n]=o.useState("");o.useEffect(()=>{const r=window.location.pathname.split("/")[1];(r==="zh"||r==="en")&&n(r)},[]);const l=s=>{document.cookie=`lang=${s}; path=/; max-age=31536000; samesite=lax`,console.log("[LanguageSwitcher] 设置语言 Cookie:",s);const r=window.location.pathname.split("/");r[1]=s,window.location.href=r.join("/")};return e.jsxs("div",{className:"flex bg-white/10 backdrop-blur-md rounded-lg p-1 shadow-lg border border-white/20",children:[e.jsx("button",{onClick:()=>l("en"),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-300 ease-out ${a==="en"?"bg-white/20 text-white shadow-md backdrop-blur-sm border border-white/30 transform scale-105":"text-gray-200 hover:bg-white/10 hover:text-white hover:shadow-sm"}`,children:"EN"}),e.jsx("button",{onClick:()=>l("zh"),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-300 ease-out ${a==="zh"?"bg-white/20 text-white shadow-md backdrop-blur-sm border border-white/30 transform scale-105":"text-gray-200 hover:bg-white/10 hover:text-white hover:shadow-sm"}`,children:"中文"})]})},k=({translations:a})=>{const[n,l]=o.useState(!1),[s,r]=o.useState(""),[x,u]=o.useState(!0),i=p(a),c=t=>{const d=t.replace(/^\/[a-z]{2}\//,"/");return d.length>1&&d.endsWith("/")?d.slice(0,-1):d},h=t=>a&&a.lang?`/${a.lang}${t}`:t,f=[{href:h("/"),label:i("navs.home")},{href:h("/download"),label:i("navs.download")},{href:"https://cwdocs.rinlit.cn/user_docs/",label:i("navs.user_docs")},{href:"https://cwdocs.rinlit.cn/dev_docs/",label:i("navs.dev_docs")}];return o.useEffect(()=>{r(c(new URL(window.location.href).pathname));const t=()=>{r(c(new URL(window.location.href).pathname))};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]),o.useEffect(()=>{const t=()=>{u(window.scrollY===0)};return window.addEventListener("scroll",t),t(),()=>window.removeEventListener("scroll",t)},[]),e.jsxs("header",{className:`fixed top-0 left-0 w-full z-50 ${x?"":"shadow-sm bg-gray-900/80 backdrop-blur-md"}`,children:[e.jsxs("nav",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[e.jsx("a",{href:h("/"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:w.src,alt:"Logo",className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-bold text-gray-100",children:"Class Widgets"})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("div",{className:"flex space-x-6",children:f.map(t=>e.jsx("a",{href:t.href,className:`text-gray-200 hover:text-blue-500 transition-colors relative ${s===c(t.href)?"after:content-[''] after:absolute after:left-0 after:-bottom-1 after:w-full after:h-0.5 after:bg-[#7dd3fc] after:transition-all":""}`,children:t.label},t.href))}),e.jsx(m,{})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>l(!n),className:"text-gray-200 focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6 transition-all duration-300 ease-in-out",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e.jsx("div",{className:`md:hidden shadow-sm overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-[calc(100vh-64px)] opacity-100 bg-opacity-10 backdrop-blur-md":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col space-y-2",children:[f.map(t=>e.jsx("a",{href:t.href,className:`block text-gray-200 hover:text-blue-500 transition-colors py-2 relative ${s===c(t.href)?"after:content-[''] after:absolute after:left-0 after:-bottom-1 after:w-full after:h-0.5 after:bg-[#7dd3fc] after:transition-all":""}`,onClick:()=>l(!1),children:t.label},t.href)),e.jsx("div",{className:"py-2 border-t border-gray-600 mt-4",children:e.jsx(m,{})})]})})]})};export{k as default};
